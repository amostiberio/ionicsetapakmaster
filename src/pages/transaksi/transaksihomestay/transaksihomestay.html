<!--
  Generated template for the TransaksihomestayPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header >
    <ion-navbar color= "navbar">
        <ion-title>
            <span class="firstline">Detil Transaksi</span>
        </ion-title>
    </ion-navbar>
  </ion-header>



<ion-content>
<div>
    <ion-card class="full-card">          
            <button ion-item >
                <ion-icon class="iconbutton" color= "navbar" name="md-cash" item-left *ngIf="dataTransaksi?.transaction_status <= 2"></ion-icon>          
                <ion-icon class="iconbutton" color= "navbar" name="md-time" item-left *ngIf="dataTransaksi?.transaction_status == 3 || dataTransaksi?.transaction_status == 4"></ion-icon>          
                <ion-icon class="iconbutton" color= "navbar" name="md-checkmark-circle-outline" item-left *ngIf="dataTransaksi?.transaction_status == 5 || dataTransaksi?.transaction_status == 6"></ion-icon>                   <h6 class="keterangantextlisttransaksi">Status</h6>      
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 0"><b>Belum Konfirmasi Pembayaran</b></h5>
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 1"><b>Menunggu Verifikasi Pembayaran</b></h5>
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 2"><b>Pembayaran telah diverifikasi</b></h5>
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 3"><b>Penggunaan Homestay sedang berjalan</b></h5>                   
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 4"><b>Penggunaan Homestay telah selesai</b></h5>                   
                <h5 class="textlisttransaksi" text-wrap *ngIf="dataTransaksi?.transaction_status == 5"><b>Transaksi selesai</b></h5>
            </button>         
        </ion-card>

        <ion-card class ="full-card-homenamecard-padding-left">
                <ion-grid>           
                    <ion-row>
                        <ion-col>
                          <a class ="smallfont" color="primary">Check In</a>
                        </ion-col>
                        <ion-col>
                          <a class ="smallfont" color="primary">Check Out</a>
                        </ion-col>
                        <ion-col>
                          <a class ="smallfont" color="primary">Duration</a>
                        </ion-col>
                      </ion-row>
                      <ion-row>
                          <ion-col>
                            <a class="textfont">{{dataTransaksi?.check_in | date: "dd MMM yyyy"}}</a>                 
                          </ion-col>
                          <ion-col>
                            <a class="textfont">{{dataTransaksi?.check_out| date: "dd MMM yyyy"}}</a>
                          </ion-col>
                          <ion-col >
                            <a class="colordisabled">{{dataTransaksi?.jumlah_hari}} night(s)</a>
                          </ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-col>
                                <a class="textfont">{{dataTransaksi?.check_in| date: "EEE, HH:mm"}}</a>
                              </ion-col>
                            <ion-col>
                                <a class="textfont">{{dataTransaksi?.check_out| date: "EEE, HH:mm"}}</a>
                            </ion-col>
                            <ion-col>                      
                            </ion-col>
                          </ion-row>
                            <!-- <ion-row>
                                <ion-col>
                                  <a class ="smallfont" color="primary">Notes</a>
                                </ion-col>                            
                            </ion-row>   -->
                            <ion-row>
                                <ion-col>
                                <a class ="smallfont" color="primary"></a>
                                </ion-col>                           
                            </ion-row>
                  </ion-grid>                  
            </ion-card>
</div>
        
<div padding>
        <ion-card class ="full-card-homenamecard">
            <button ion-item>
                        <ion-avatar  item-start>
                          <img src="{{BASE_URL+dataHomestay?.mainphoto}}" class="avatarhomestay">
                        </ion-avatar>
                        <h6><b color="primary">{{dataHomestay?.nama_homestay}}</b></h6> 
                        <a class class="smallfont" color="primary"> {{dataAlamatCategory?.kecamatan}}, {{dataAlamatCategory?.kabupaten}}, {{dataAlamatCategory?.provinsi}}</a>                
            </button>                 
        </ion-card>
</div>
<div>
      <ion-card class ="full-card-homenamecard-padding-left">
          <ion-grid>
              <ion-row>
                  <ion-col>
                      <h6 class="labelfont">Detail Harga</h6>         
                    </ion-col> 
              </ion-row>           
              <ion-row>                   
                  <ion-col>
                    <a class ="textfont">{{dataHomestay?.nama_homestay}}</a>
                  </ion-col>
                  <ion-col >
                      <a float-right class ="textfont">{{dataHomestay?.harga_perhari | currency:'IDR ':true}}</a>
                  </ion-col>                
              </ion-row>
              <ion-row>
                  <ion-col>
                    <a class ="textfont">Duration</a>
                  </ion-col>
                  <ion-col align-self-end>
                      <a float-right class ="textfont">{{dataTransaksi?.jumlah_hari}} night(s)</a>
                  </ion-col>                
              </ion-row>                           
            </ion-grid>                  
      </ion-card>
  </div>
  <div>
      <ion-card class ="full-card-homenamecard-padding-left">
          <ion-grid>           
              <ion-row>
                  <ion-col>
                    <a class ="textfont">Total</a>
                  </ion-col>
                  <ion-col align-self-end>
                      <a float-right class ="textfont">{{dataTransaksi?.total_harga | currency:'IDR ':true}}</a>
                  </ion-col>                
              </ion-row>              
            </ion-grid>                  
      </ion-card>
  </div>
  <div padding>
        <button *ngIf="dataTransaksi?.transaction_status == 0 || dataTransaksi?.transaction_status == 1" ion-button icon-start block no-margin color="primary" class="buttontransaksi" (click)="uploadBuktiPembayaran()" tappable >
            Upload Bukti Pembayaran
        </button>
        <button *ngIf="dataTransaksi?.transaction_status == 3" ion-button icon-start block no-margin color="primary" class="buttontransaksi" (click)="konfirmasiTransaksi(dataTransaksi?.transaction_id)" tappable >
            Konfirmasi Transaksi Selesai
        </button>
        <button *ngIf="dataTransaksi?.transaction_status == 5 && reviewExist != true " ion-button icon-start block no-margin color="primary" class="buttontransaksi" (click)="addReview(dataTransaksi?.transaction_id)" tappable >
            Tambah Review
        </button>
        <button ion-button icon-start block no-margin color="primary" class="buttontransaksi samebackground" (click)="cancelTransaksi(dataTransaksi?.transaction_status,dataTransaksi?.transaction_id)" tappable >
            Batalkan Transaksi
        </button>   
  </div>
  
</ion-content>
